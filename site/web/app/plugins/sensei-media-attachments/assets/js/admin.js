jQuery(document).ready(function(e){var t;jQuery.fn.sensei_addons_upload_media_file=function(e,a){var i=e.attr("id"),n=i.replace("_button",""),_=i.replace("_button","_preview");(t=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1})).on("select",function(){attachment=t.state().get("selection").first().toJSON(),jQuery("#"+n).val(attachment.url),a&&jQuery("#"+_).attr("src",attachment.url)}),t.open()},jQuery("#sensei_media_attachments").on("click",".upload_media_file_button",function(e){e.preventDefault(),jQuery.fn.sensei_addons_upload_media_file(jQuery(this),!1)}),jQuery("#sensei_media_attachments_add_row").click(function(e){var t=String(Math.random()).replace("0.",""),a='<tr valign="top" id="'+("media_attachments_row_"+String(Math.random()).replace("0.",""))+'">';a+='<td><input type="button" id="sensei_media_attachments_'+t+'_button" class="button upload_media_file_button" value="'+sensei_media_attachments_localisation.upload_file+'" data-uploader_title="'+sensei_media_attachments_localisation.choose_file+'" data-uploader_button_text="'+sensei_media_attachments_localisation.add_file+'" /> <input name="sensei_media_attachments[]" class="sensei_media_attachments_file_input" type="text" id="sensei_media_attachments_'+t+'" value="" /></td>',a+="</tr>",jQuery("#sensei_media_attachments_new_row").before(a)})});